/* frontend/src/pages/Plugin/plugin.css */

.plugin {
  flex: 5;
  padding: 20px;
  background: var(--surface);
  color: var(--text);
}

/* 상단 버튼 그룹 */
.plugin-buttons {
  display: flex;
  gap: 10px;
  margin-top: 20px;
  flex-wrap: wrap;
}

/* 공통 버튼 */
.plugin-list-btn,
.create-plugin-btn,
.option-add-btn {
  padding: 10px 16px;
  font-size: 14px;
  border-radius: 10px;
  border: 1px solid var(--border);
  cursor: pointer;
  transition: background-color .2s ease, border-color .2s ease, color .2s ease;
  background: var(--surface-2);
  color: var(--text);
}
.create-plugin-btn:hover,
.plugin-list-btn:hover,
.option-add-btn:hover {
  background: var(--primary-50);
  border-color: var(--border);
}

/* 모달 오버레이 */
.plugin-modal-overlay {
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.4);
  display: grid;
  place-items: center;
  z-index: 1000;
}

/* 모달 카드 */
.plugin-modal {
  background: var(--surface);
  color: var(--text);
  padding: 24px;
  border-radius: 12px;
  border: 1px solid var(--border);
  box-shadow: 0 12px 24px rgba(0,0,0,.18);
  min-width: 320px;
  max-width: 440px;
}

/* 입력/셀렉트 */
.plugin-input,
.plugin-select {
  width: 100%;
  padding: 10px 12px;
  margin-top: 12px;
  margin-bottom: 14px;
  border: 1px solid var(--border);
  border-radius: 8px;
  font-size: 14px;
  background: var(--surface);
  color: var(--text);
}
.plugin-input:focus-visible,
.plugin-select:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* 모달 액션 */
.plugin-modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}
.cancel-button,
.submit-button {
  padding: 10px 14px;
  font-size: 14px;
  border-radius: 10px;
  border: 1px solid var(--border);
  cursor: pointer;
  transition: background-color .2s ease;
}
.cancel-button {
  background: var(--surface-2);
  color: var(--text);
}
.cancel-button:hover { background: var(--primary-50); }
.submit-button {
  background: var(--primary);
  color: #fff;
  border-color: transparent;
}
.submit-button:hover { filter: brightness(0.95); }

/* 목록 컨테이너 */
.plugin-list-container {
  margin-top: 30px;
  padding: 24px;
  background: var(--plugin-list);
  border: 1px solid var(--border);
  border-radius: 16px;
  max-width: 100%;
  margin-right: 30px;
}
.plugin-list-title {
  font-size: 20px;
  font-weight: 800;
  margin-bottom: 16px;
  border-bottom: 1px solid var(--border);
  padding-bottom: 10px;
  color: var(--text);
}

/* 박스/보조 */
.plugin-box {
  background: var(--surface);
  padding: 14px 16px;
  border-radius: 12px;
  margin-bottom: 10px;
  font-weight: 700;
  font-size: 15px;
  border: 1px solid var(--border);
}

/* 모델 필드 박스 */
.model-field-box {
  margin-top: 10px;
  padding: 10px;
  background: var(--surface-2);
  border: 1px solid var(--border);
  border-radius: 10px;
  font-size: 14px;
  margin-bottom: 14px;
  color: var(--text);
}
.model-field-box ul { padding-left: 20px; }
.model-field-box li { margin-bottom: 4px; }

.option-add-btn {
  display: flex;
  align-items: center;
  padding: 10px 16px;
  font-size: 14px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  transition: 0.3s;
  background-color: #dee2e6;
  color: #212529;
  margin-top: 12px;
}
.option-add-btn:hover { background-color: #ced4da; }

/* 인스턴스 삭제: 동그라미 X (정중앙 정렬) */
.inst-del-circle {
  width: 18px;               /* 필요하면 16~20px 사이로 조절 */
  height: 18px;
  padding: 0;
  border: none;
  border-radius: 50%;
  background: #7f7f7f;
  color: #fff;
  cursor: pointer;

  display: inline-flex;      /* ⬅ 가운데 정렬 핵심 */
  align-items: center;       /* 수직 중앙 */
  justify-content: center;   /* 수평 중앙 */

  font-weight: 900;
  font-size: 12px;           /* 버튼 크기에 맞춰 조절 */
  line-height: 1;            /* 0px 제거 (텍스트 높이 정상화) */
  vertical-align: middle;    /* 주변 텍스트 기준선 보정 */
  flex-shrink: 0;            /* 레이아웃 수축 방지 */
}

.inst-del-circle:hover {
  filter: brightness(0.9);
}


/* 아이콘 버튼 약간의 인터랙션 */
.MuiIconButton-root[aria-label="delete type"]:hover,
.MuiIconButton-root[aria-label="delete instance-trash"]:hover {
  transform: scale(1.05);
  transition: transform .12s ease;
}

/* 일괄 삭제 툴바 (카드 컨테이너 안쪽 전용) */
.bulk-toolbar {
  width: 100%;
  margin: 0 0 12px;           /* 아래만 여백 */
  padding: 12px 16px;         /* ↑↓ 균일한 패딩 */
  border: 1px solid var(--border);
  border-radius: 10px;
  background: var(--surface-2);
  display: flex;
  align-items: center;         /* 세로 중앙 */
  justify-content: space-between;
  gap: 12px;
  box-sizing: border-box;      /* 패딩 포함 폭 계산 */
}

.bulk-toolbar-counter {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  line-height: 1.4;            /* 텍스트 라인 높이 균일화 */
}

.bulk-toolbar-counter .divider {
  color: var(--text-muted);
  opacity: .8;
}

.bulk-toolbar-actions {
  display: flex;
  gap: 8px;
}

.danger-btn {
  padding: 8px 12px;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: #d14240;
  color: #fff;
  font-weight: 700;
  cursor: pointer;
}
.danger-btn:disabled {
  opacity: .6;
  cursor: not-allowed;
}

/* ===== 공통 모달 레이아웃(유저 모달 느낌) ===== */
.plugin-modal { max-width: 520px; padding: 0; overflow: hidden; }

.plugin-modal .modal-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; border-bottom:1px solid var(--border);
  background:var(--surface-2);
}
.plugin-modal .modal-header h3{ margin:0; font-size:18px; font-weight:800; }
.plugin-modal .close-x{
  border:none; background:transparent; font-size:22px; cursor:pointer; color:var(--text);
}

.plugin-modal .modal-body{ padding:16px; display:grid; gap:14px; }

.form-section{
  border:1px solid var(--border); border-radius:12px; padding:14px; background:var(--surface);
  display:grid; gap:10px;
}
.form-title{ font-weight:800; font-size:14px; color:#5b5f66; }

.input-row{ display:grid; gap:8px; }            /* 한 줄에 입력 1개일 때 */
.two-grid{ display:grid; gap:8px; grid-template-columns: 1fr 1fr; }  /* 2개씩 배치 */
.form-help{ font-size:12px; color:var(--text-muted); }

/* 기존 버튼 행과 간격만 조정 */
.plugin-modal-actions{ padding:12px 16px; border-top:1px solid var(--border); }

/* 옵션 스키마 삭제 버튼을 입력창 높이와 일치시키기 */
.schema-del-btn {
  height: 40px;          /* 입력창(.plugin-input) 체감 높이와 맞춤 */
  padding: 0 12px;       /* 세로 패딩 제거해서 높이 불필요하게 늘어나지 않게 */
  min-width: 56px;
  display: inline-flex;  /* 텍스트 중앙 정렬 */
  align-items: center;
  justify-content: center;
  line-height: 1;        /* 폰트 라인으로 생기는 여분 제거 */
  border-radius: 8px;
}

/* 두 칸짜리 행(좌: key, 우: type+삭제버튼) 전체를 수직 중앙정렬 */
.two-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  align-items: center;          /* ⬅︎ 핵심 1 */
}

/* 우측(type + 삭제버튼) 래퍼: 버튼과 입력칸을 한 줄에, 수직 중앙정렬 */
.schema-right {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 8px;
  align-items: center;          /* ⬅︎ 핵심 2 */
}

/* 그리드 안에서는 입력칸의 위·아래 마진을 없애 높이를 맞춘다 */
.two-grid .plugin-input {
  margin-top: 0;                /* ⬅︎ 핵심 3 */
  margin-bottom: 0;
  height: 42px;                 /* 버튼과 동일 높이로 통일(필요 시 40~44px 미세조정) */
}

/* 삭제 버튼 높이/정렬 통일 */
.schema-del-btn {
  height: 42px;
  padding: 0 12px;
  min-width: 56px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  border-radius: 8px;
}

/* 그리드 안에서 옵션 추가 버튼이 가로로 늘어나지 않도록 고정 */
.form-section .option-add-btn {
  display: inline-flex;   /* 내용 크기에 맞춤 */
  justify-self: start;    /* 가로로 늘어나는 기본 stretch 해제 */
  align-self: start;      /* 세로도 stretch 해제 (안전용) */
  width: auto;            /* 넓이 자동 */
  max-width: none;        /* 혹시 모를 상위 max-width 해제 */
  margin-top: 12px;       /* 기존 여백 유지 */
}
